<!-- Provide site root to javascript -->
<script>
    var path_to_root = "{{ path_to_root }}";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "{{ preferred_dark_theme }}" : "{{ default_theme }}";

    // Work around some values being stored in localStorage wrapped in quotes
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) { }

    // Set the theme before any content is loaded, prevents flash
    var theme;
    try {theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
    if (theme === null || theme === undefined) {theme = default_theme; }
    var html = document.querySelector('html');
    html.classList.remove('{{ default_theme }}')
    html.classList.add(theme);
    var body = document.querySelector('body');
    body.classList.remove('no-js')
    body.classList.add('js');

</script>

